/* === VENDOR/THIRD-PARTY FIXES === */
/* Fixes for third-party libraries like Coinbase OnchainKit */

/* === COINBASE ONCHAINKIT THEME OVERRIDES === */
/* Override OnchainKit CSS variables to match app theme */
.default-light,
.default-dark,
[data-theme="default-light"],
[data-theme="default-dark"],
[class*="ock-"] {
  --ock-bg-default: hsl(var(--background)) !important;
  --ock-bg-default-hover: hsl(var(--muted)) !important;
  --ock-bg-default-active: hsl(var(--muted)) !important;
  --ock-bg-alternate: hsl(var(--muted)) !important;
  --ock-bg-inverse: hsl(var(--foreground)) !important;
  --ock-line-default: transparent !important;
  --ock-line-heavy: hsl(var(--border) / 0.2) !important;
  --ock-text-foreground: hsl(var(--foreground)) !important;
  --ock-text-foreground-muted: hsl(var(--muted-foreground)) !important;
  --ock-text-inverse: hsl(var(--background)) !important;
  --ock-font-family: 'Inter', system-ui, sans-serif !important;
}

/* Force OnchainKit border colors */
.ock-border-line-default {
  border-color: transparent !important;
}

.ock-border-line-heavy {
  border-color: hsl(var(--border) / 0.35) !important;
}

/* Force all OnchainKit borders to be transparent */
[class*="ock-"][class*="border"] {
  border-color: transparent !important;
}

/* === COINBASE ONCHAINKIT FUNDCARD FIXES === */
[data-testid*="ockFundCard"],
[data-testid*="ockFundCardPaymentMethod"] {
  background-color: hsl(var(--background)) !important;
  border-color: transparent !important;
}

/* === COINBASE ONCHAINKIT DROPDOWN FIXES === */
[data-testid*="ockFundCardPaymentMethodDropdown"],
.ock-fund-dropdown,
.ock-select-dropdown,
div[role="listbox"],
div[role="menu"] {
  background-color: hsl(var(--popover)) !important;
  border: 1px solid hsl(var(--border) / 0.25) !important;
  box-shadow: 0 10px 15px -3px hsl(var(--shadow) / 0.1), 0 4px 6px -2px hsl(var(--shadow) / 0.05) !important;
  z-index: 50 !important;
}

/* Fix dropdown menu items */
[data-testid*="ockFundCardPaymentMethodDropdown"] > *,
.ock-fund-dropdown > *,
.ock-select-dropdown > *,
div[role="listbox"] > *,
div[role="menu"] > * {
  color: hsl(var(--popover-foreground)) !important;
}

/* Fix dropdown item hover states */
[data-testid*="ockFundCardPaymentMethodDropdown"] > *:hover,
.ock-fund-dropdown > *:hover,
.ock-select-dropdown > *:hover,
div[role="listbox"] > *:hover,
div[role="menu"] > *:hover {
  background-color: hsl(var(--muted)) !important;
}

/* === COINBASE FUNDCARD CUSTOM STYLING === */
/* Remove default FundCard container styling */
.coinbase-fund-card-custom,
.coinbase-fund-card-custom.ock-fund-card,
[data-testid*="ockFundCard"].coinbase-fund-card-custom {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
}

/* Amount Input styling */
[data-testid*="ockFundCardAmountInput"] input,
.ock-text-4xl {
  background: transparent !important;
  border: none !important;
  font-size: 2.25rem !important;
  font-weight: 700 !important;
  color: hsl(var(--foreground)) !important;
  text-align: center !important;
}

/* Type Switch styling */
[data-testid*="ockFundCardAmountInputTypeSwitch"],
.ock-fund-card-type-switch {
  background: hsl(var(--muted)) !important;
  border-radius: 9999px !important;
  padding: 2px !important;
}

/* Preset Amount Buttons - Grid layout */
[data-testid*="ockFundCardPresetAmountInputList"] {
  display: grid !important;
  grid-template-columns: repeat(4, 1fr) !important;
  gap: 0.5rem !important;
}

[data-testid*="ockFundCardPresetAmountInput"],
.ock-preset-amount-input {
  background: hsl(var(--muted)) !important;
  border: 1px solid hsl(var(--border) / 0.5) !important;
  border-radius: 0.75rem !important;
  padding: 0.75rem 0.5rem !important;
  font-weight: 600 !important;
  font-size: 0.875rem !important;
  transition: all 0.2s ease !important;
  color: hsl(var(--foreground)) !important;
}

[data-testid*="ockFundCardPresetAmountInput"]:hover,
.ock-preset-amount-input:hover {
  background: hsl(var(--primary) / 0.1) !important;
  border-color: hsl(var(--primary) / 0.3) !important;
}

[data-testid*="ockFundCardPresetAmountInput"][data-selected="true"],
[data-testid*="ockFundCardPresetAmountInput"][aria-pressed="true"],
.ock-preset-amount-input[data-selected="true"] {
  background: hsl(var(--primary) / 0.15) !important;
  border-color: hsl(var(--primary) / 0.5) !important;
  color: hsl(var(--primary)) !important;
}

/* Submit Button Premium styling */
[data-testid*="ockFundCardSubmitButton"],
.ock-fund-card-submit-button {
  background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary) / 0.8)) !important;
  border: none !important;
  border-radius: 1rem !important;
  font-weight: 600 !important;
  font-size: 1rem !important;
  height: 3.5rem !important;
  width: 100% !important;
  box-shadow: 0 4px 14px hsl(var(--primary) / 0.3) !important;
  transition: all 0.2s ease !important;
  color: hsl(var(--primary-foreground)) !important;
}

[data-testid*="ockFundCardSubmitButton"]:hover,
.ock-fund-card-submit-button:hover {
  transform: translateY(-1px) !important;
  box-shadow: 0 6px 20px hsl(var(--primary) / 0.4) !important;
}

[data-testid*="ockFundCardSubmitButton"]:active,
.ock-fund-card-submit-button:active {
  transform: translateY(0) scale(0.98) !important;
}

[data-testid*="ockFundCardSubmitButton"]:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  transform: none !important;
}

/* Payment Method Dropdown - Premium */
[data-testid*="ockFundCardPaymentMethodDropdown"] > button,
.ock-payment-method-trigger {
  background: hsl(var(--muted) / 0.5) !important;
  border: 1px solid hsl(var(--border) / 0.5) !important;
  border-radius: 0.75rem !important;
  padding: 0.875rem 1rem !important;
  width: 100% !important;
  transition: all 0.2s ease !important;
}

[data-testid*="ockFundCardPaymentMethodDropdown"] > button:hover,
.ock-payment-method-trigger:hover {
  background: hsl(var(--muted)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Hide default FundCard header if any */
.coinbase-fund-card-custom > div:first-child:has(img) {
  display: none !important;
}
